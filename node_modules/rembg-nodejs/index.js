const { exec } = require("child_process");

const folder = async (output,input,cb) => {

	await exec(`rembg -p ${output} ${input}`, async (error, data, getter) => {
		if(error){
			console.log("error",error.message);
			await cb(error);
		}
		if(getter){
			console.log("data",data);
			await cb(data);
		}
	});

}

const file = async (output,input,cb) => {

	await exec(`rembg -o ${output} ${input}`, async (error, data, getter) => {
		if(error){
			console.log("error",error.message);
			await cb(error);
		}
		if(getter){
			console.log("data",data);
			await cb(data);
		}
	});

}

const link = async (url,output,cb) => {

	await exec(`curl -s ${url} | rembg > ${output}`, async (error, data, getter) => {
		if(error){
			console.log("error",error.message);
			await cb(error);
		}
		if(getter){
			console.log("data",data);
			await cb(data);
		}
	});

}



module.exports = {folder, file, link};